<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>Ranking granych gier - Panel Główny</title>
  <link href="main.css" rel="stylesheet" />
</head>
<body>
  <header>
    <div class="header-content">
      <h1>Ranking granych gier</h1>
      <span id="loggedUser"></span>
    </div>
  </header>

  <main class="tierlist-container">
    <section class="tierlist">
      <h2>Twoja Tier Lista</h2>
      <div class="tier-rankings">
        <div class="tier-row" data-tier="S">
          <span class="tier-label" data-tier="S">S</span>
          <div class="tier-slot" id="tier-S"></div>
        </div>
        <div class="tier-row" data-tier="A">
          <span class="tier-label" data-tier="A">A</span>
          <div class="tier-slot" id="tier-A"></div>
        </div>
        <div class="tier-row" data-tier="B">
          <span class="tier-label" data-tier="B">B</span>
          <div class="tier-slot" id="tier-B"></div>
        </div>
        <div class="tier-row" data-tier="C">
          <span class="tier-label" data-tier="C">C</span>
          <div class="tier-slot" id="tier-C"></div>
        </div>
        <div class="tier-row" data-tier="D">
          <span class="tier-label" data-tier="D">D</span>
          <div class="tier-slot" id="tier-D"></div>
        </div>
        <div class="tier-row" data-tier="none">
          <span class="tier-label tier-unassigned">?</span>
          <div class="tier-slot" id="tier-unassigned"></div>
        </div>
      </div>
      
      <div style="text-align: right; margin-top: 15px;">
        <button id="saveTierListBtn">Zapisz moją tier listę</button>
      </div>
    </section>
    
    <section class="tierlist" id="otherTierLists">
      <h2>Tier Listy Innych Użytkowników</h2>
    </section>
    
    <section class="tierlist">
      <h2>Wspólna Tier Lista</h2>
      <p class="tier-description">
        To zbiorcza tier lista oparta na średniej pozycji każdej gry z wszystkich użytkowników. Im wyżej gra jest klasyfikowana przez innych, tym wyższy ma tier.
      </p>
      <div class="tierlist-box" id="consensusTierList"></div>
    </section>
    
    <section class="tierlist">
      <h2>Dodaj grę z BGG</h2>
      <div class="tierlist-box">
        <form id="bggForm">
          <label for="bggId">BGG Game ID:</label>
          <input id="bggId" required type="number" />
          <button type="submit">Dodaj</button>
        </form>
        <div id="gamePreview"></div>
      </div>
    </section>
    
    <section class="tierlist">
      <h2>Twoje zapisane gry</h2>
      <div class="tierlist-box" id="gameList">
        <p>Wczytywanie...</p>
      </div>
    </section>

  </main>

  <footer>
    <p>&copy; 2025 Ranking granych gier 🎮</p>
  </footer>

  <script>
    const user = localStorage.getItem('loggedInUser');
    if (!user) {
      window.location.href = "index.html";
    } else {
      document.getElementById("loggedUser").textContent = `Zalogowany jako: ${user}`;
    }
  </script>
  <script src="firebase-init.js" type="module"></script>
  <script src="database.js" type="module"></script>
  <script src="tier-others.js" type="module"></script>
</body>
</html>
